xlim(0,100) +
ylim(0,53.3) +
labs(title = paste("Offense", dfPlay$PossessionTeam,
"PlayDirection", dfPlay$PlayDirection))
ggplot(dfPlay) +
geom_point(aes(X, Y, color=Team)) +
xlim(0,100) +
ylim(0,53.3) +
labs(title = paste("Offense", dfPlay$PossessionTeam, "; ",
"PlayDirection", dfPlay$PlayDirection, "; ",
"FieldPosition", dfPlay$FieldPosition, "; ",
"HomeTeam", dfPlay$HomeTeamAbbr))
mutate(YardsToGoal = YardLine + 50*(PossessionTeam==FieldPosition)
)
colnames(dfGoa)
colnames(dfGoal)
dfToGoal = dfGoal %>%
mutate(YardsToGoal = YardLine + 50*(PossessionTeam==FieldPosition))
dfToGoal
dfPlay %>%
mutate(YardsToGoal = YardLine + 50*(PossessionTeam==FieldPosition)) %>%
ggplot() +
geom_point(aes(X, Y, color=Team)) +
xlim(0,100) +
ylim(0,53.3) +
labs(title = paste("Offense", dfPlay$PossessionTeam, "; ",
"PlayDirection", dfPlay$PlayDirection, "; ",
"FieldPosition", dfPlay$FieldPosition, "; ",
"HomeTeam", dfPlay$HomeTeamAbbr),
subtitle = paste("yardsToGoal", YardsToGoal))
dfPlay %>%
mutate(YardsToGoal = YardLine + 50*(PossessionTeam==FieldPosition))
dfPlay %>%
mutate(YardsToGoal = YardLine + 50*(PossessionTeam==FieldPosition)) %>%
ggplot() +
geom_point(aes(X, Y, color=Team)) +
xlim(0,100) +
ylim(0,53.3) +
labs(title = paste("Offense", dfPlay$PossessionTeam, "; ",
"PlayDirection", dfPlay$PlayDirection, "; ",
"FieldPosition", dfPlay$FieldPosition, "; ",
"HomeTeam", dfPlay$HomeTeamAbbr),
subtitle = paste("yardsToGoal", YardsToGoal))
dfPlay %>%
mutate(YardsToGoal = YardLine + 50*(PossessionTeam==FieldPosition)) %>%
ggplot() +
geom_point(aes(X, Y, color=Team)) +
xlim(0,100) +
ylim(0,53.3) +
labs(title = paste("Offense", dfPlay$PossessionTeam, "; ",
"PlayDirection", dfPlay$PlayDirection, "; ",
"FieldPosition", dfPlay$FieldPosition, "; ",
"HomeTeam", dfPlay$HomeTeamAbbr),
subtitle = paste("yardsToGoal", dfPlay$YardsToGoal))
dfPlay = filter(df, PlayId == df$PlayId[1]) %>%
mutate(YardsToGoal = YardLine + 50*(PossessionTeam==FieldPosition))
ggplot(dfPlay) +
geom_point(aes(X, Y, color=Team)) +
xlim(0,100) +
ylim(0,53.3) +
labs(title = paste("Offense", dfPlay$PossessionTeam, "; ",
"PlayDirection", dfPlay$PlayDirection, "; ",
"FieldPosition", dfPlay$FieldPosition, "; ",
"HomeTeam", dfPlay$HomeTeamAbbr),
subtitle = paste("yardsToGoal", dfPlay$YardsToGoal))
?geom_abline
ggplot(dfPlay) +
geom_point(aes(X, Y, color=Team)) +
geom_vline(aes(x=LineOfScrimmage)) +
xlim(0,100) +
ylim(0,53.3) +
labs(title = paste("Offense", dfPlay$PossessionTeam, "; ",
"PlayDirection", dfPlay$PlayDirection, "; ",
"FieldPosition", dfPlay$FieldPosition, "; ",
"HomeTeam", dfPlay$HomeTeamAbbr),
subtitle = paste("yardsToGoal", dfPlay$YardsToGoal))
colnames(dfPlay)
ggplot(dfPlay) +
geom_point(aes(X, Y, color=Team)) +
geom_vline(aes(x=YardLine), color="yellow") +
xlim(0,100) +
ylim(0,53.3) +
labs(title = paste("Offense", dfPlay$PossessionTeam, "; ",
"PlayDirection", dfPlay$PlayDirection, "; ",
"FieldPosition", dfPlay$FieldPosition, "; ",
"HomeTeam", dfPlay$HomeTeamAbbr),
subtitle = paste("yardsToGoal", dfPlay$YardsToGoal))
ggplot(dfPlay) +
geom_point(aes(X, Y, color=Team)) +
geom_vline(aes(xintercept=YardLine), color="yellow") +
xlim(0,100) +
ylim(0,53.3) +
labs(title = paste("Offense", dfPlay$PossessionTeam, "; ",
"PlayDirection", dfPlay$PlayDirection, "; ",
"FieldPosition", dfPlay$FieldPosition, "; ",
"HomeTeam", dfPlay$HomeTeamAbbr),
subtitle = paste("yardsToGoal", dfPlay$YardsToGoal))
ggplot(dfPlay) +
geom_point(aes(X, Y, color=Team)) +
geom_vline(aes(xintercept=YardsToGoal), color="yellow") +
xlim(0,100) +
ylim(0,53.3) +
labs(title = paste("Offense", dfPlay$PossessionTeam, "; ",
"PlayDirection", dfPlay$PlayDirection, "; ",
"FieldPosition", dfPlay$FieldPosition, "; ",
"HomeTeam", dfPlay$HomeTeamAbbr),
subtitle = paste("yardsToGoal", dfPlay$YardsToGoal))
ggplot(dfPlay) +
geom_point(aes(X, Y, color=Team)) +
geom_vline(aes(xintercept=YardsToGoal+10), color="yellow") +
xlim(0,120) +
ylim(0,53.3) +
labs(title = paste("Offense", dfPlay$PossessionTeam, "; ",
"PlayDirection", dfPlay$PlayDirection, "; ",
"FieldPosition", dfPlay$FieldPosition, "; ",
"HomeTeam", dfPlay$HomeTeamAbbr),
subtitle = paste("yardsToGoal", dfPlay$YardsToGoal))
ggplot(dfPlay) +
geom_point(aes(X, Y, color=Team)) +
geom_vline(aes(xintercept=YardsToGoal), color="yellow") +
xlim(0,120) +
ylim(0,53.3) +
labs(title = paste("Offense", dfPlay$PossessionTeam, "; ",
"PlayDirection", dfPlay$PlayDirection, "; ",
"FieldPosition", dfPlay$FieldPosition, "; ",
"HomeTeam", dfPlay$HomeTeamAbbr),
subtitle = paste("yardsToGoal", dfPlay$YardsToGoal))
ggplot(dfPlay) +
geom_point(aes(X, Y, color=Team)) +
geom_vline(aes(xintercept=YardsToGoal-10), color="yellow") +
xlim(0,120) +
ylim(0,53.3) +
labs(title = paste("Offense", dfPlay$PossessionTeam, "; ",
"PlayDirection", dfPlay$PlayDirection, "; ",
"FieldPosition", dfPlay$FieldPosition, "; ",
"HomeTeam", dfPlay$HomeTeamAbbr),
subtitle = paste("yardsToGoal", dfPlay$YardsToGoal))
ggplot(dfPlay) +
geom_point(aes(X, Y, color=Team)) +
geom_vline(aes(xintercept=YardsToGoal-10), color="yellow") +
geom_vline(aes(xintercept=10), color="grey") +
geom_vline(aes(xintercept=110), color="grey") +
xlim(0,120) +
ylim(0,53.3) +
labs(title = paste("Offense", dfPlay$PossessionTeam, "; ",
"PlayDirection", dfPlay$PlayDirection, "; ",
"FieldPosition", dfPlay$FieldPosition, "; ",
"HomeTeam", dfPlay$HomeTeamAbbr),
subtitle = paste("yardsToGoal", dfPlay$YardsToGoal))
ggplot(dfPlay) +
geom_point(aes(X, Y, color=Team)) +
geom_vline(aes(xintercept=YardsToGoal-10), color="yellow") +
geom_vline(aes(xintercept=10), color="grey") +
geom_vline(aes(xintercept=110), color="grey") +
xlim(0,120) +
ylim(0,53.3) +
labs(title = paste("Offense", dfPlay$PossessionTeam, "; ",
"PlayDirection", dfPlay$PlayDirection, "; ",
"FieldPosition", dfPlay$FieldPosition, "; ",
"HomeTeam", dfPlay$HomeTeamAbbr),
subtitle = paste("YardsToGoal", dfPlay$YardsToGoal))
library(knitr)
opts_chunk$set(echo = TRUE,
collapse = FALSE,
comment = "",
strip.white = TRUE,
warning = FALSE,
message = FALSE,
out.width = "70%",
fig.align = "center")
loadData <- function(fileName = "train.csv", ...) {
file = paste("../input", fileName, sep="/")
data.table::fread(file, ...) %>%
as_tibble()
}
df = loadData("trainClean.csv")
library(knitr)
opts_chunk$set(echo = TRUE,
collapse = FALSE,
comment = "",
strip.white = TRUE,
warning = FALSE,
message = FALSE,
out.width = "70%",
fig.align = "center")
library(tidyverse)
library(magrittr)
library(knitr)
opts_chunk$set(echo = TRUE,
collapse = FALSE,
comment = "",
strip.white = TRUE,
warning = FALSE,
message = FALSE,
out.width = "70%",
fig.align = "center")
library(tidyverse)
library(magrittr)
loadData <- function(fileName = "train.csv", ...) {
file = paste("../input", fileName, sep="/")
data.table::fread(file, ...) %>%
as_tibble()
}
df = loadData("trainClean.csv")
dfPlay = filter(df, PlayId == df$PlayId[1]) %>%
mutate(YardsToGoal = YardLine + 50*(PossessionTeam==FieldPosition),
LineOfScrimmage = ifelse(YardsToGoal == Yardline,
Yardline, YardsToGoal))
dfPlay = filter(df, PlayId == df$PlayId[1]) %>%
mutate(YardsToGoal = YardLine + 50*(PossessionTeam==FieldPosition),
LineOfScrimmage = ifelse(YardsToGoal == Yardline,
Yardline, YardsToGoal))
dfPlay = filter(df, PlayId == df$PlayId[1]) %>%
mutate(YardsToGoal = YardLine + 50*(PossessionTeam==FieldPosition),
LineOfScrimmage = ifelse(YardsToGoal == YardLine,
YardLine, YardsToGoal))
ggplot(dfPlay) +
geom_point(aes(X, Y, color=Team)) +
geom_vline(aes(xintercept=YardLine-10), color="yellow") +
geom_vline(aes(xintercept=10), color="grey") +
geom_vline(aes(xintercept=110), color="grey") +
xlim(0,120) +
ylim(0,53.3) +
labs(title = paste("Offense", dfPlay$PossessionTeam, "; ",
"PlayDirection", dfPlay$PlayDirection, "; ",
"FieldPosition", dfPlay$FieldPosition, "; ",
"HomeTeam", dfPlay$HomeTeamAbbr),
subtitle = paste("YardsToGoal", dfPlay$YardsToGoal))
dfPlay
select(dfPlay, YardsToGoal, YardLine)
dfPlay = filter(df, PlayId == df$PlayId[1]) %>%
mutate(YardsToGoal = YardLine + 50*(PossessionTeam==FieldPosition),
LineOfScrimmage = ifelse(YardsToGoal == YardLine, YardsToGoal, YardLine))
ggplot(dfPlay) +
geom_point(aes(X, Y, color=Team)) +
geom_vline(aes(xintercept=YardLine-10), color="yellow") +
geom_vline(aes(xintercept=10), color="grey") +
geom_vline(aes(xintercept=110), color="grey") +
xlim(0,120) +
ylim(0,53.3) +
labs(title = paste("Offense", dfPlay$PossessionTeam, "; ",
"PlayDirection", dfPlay$PlayDirection, "; ",
"FieldPosition", dfPlay$FieldPosition, "; ",
"HomeTeam", dfPlay$HomeTeamAbbr),
subtitle = paste("YardsToGoal", dfPlay$YardsToGoal))
dfPlay = filter(df, PlayId == df$PlayId[1]) %>%
mutate(YardsToGoal = YardLine + 50*(PossessionTeam==FieldPosition),
LineOfScrimmage = ifelse(YardsToGoal == YardLine, YardLine, YardsToGoal))
ggplot(dfPlay) +
geom_point(aes(X, Y, color=Team)) +
geom_vline(aes(xintercept=LineOfScrimmage-10), color="yellow") +
geom_vline(aes(xintercept=10), color="grey") +
geom_vline(aes(xintercept=110), color="grey") +
xlim(0,120) +
ylim(0,53.3) +
labs(title = paste("Offense", dfPlay$PossessionTeam, "; ",
"PlayDirection", dfPlay$PlayDirection, "; ",
"FieldPosition", dfPlay$FieldPosition, "; ",
"HomeTeam", dfPlay$HomeTeamAbbr),
subtitle = paste("YardsToGoal", dfPlay$YardsToGoal))
dfPlay = filter(df, PlayId == df$PlayId[2]) %>%
mutate(YardsToGoal = YardLine + 50*(PossessionTeam==FieldPosition),
LineOfScrimmage = ifelse(YardsToGoal == YardLine, YardLine, YardsToGoal))
ggplot(dfPlay) +
geom_point(aes(X, Y, color=Team)) +
geom_vline(aes(xintercept=LineOfScrimmage-10), color="yellow") +
geom_vline(aes(xintercept=10), color="grey") +
geom_vline(aes(xintercept=110), color="grey") +
xlim(0,120) +
ylim(0,53.3) +
labs(title = paste("Offense", dfPlay$PossessionTeam, "; ",
"PlayDirection", dfPlay$PlayDirection, "; ",
"FieldPosition", dfPlay$FieldPosition, "; ",
"HomeTeam", dfPlay$HomeTeamAbbr),
subtitle = paste("YardsToGoal", dfPlay$YardsToGoal))
dfPlay = filter(df, PlayId == df$PlayId[10]) %>%
mutate(YardsToGoal = YardLine + 50*(PossessionTeam==FieldPosition),
LineOfScrimmage = ifelse(YardsToGoal == YardLine, YardLine, YardsToGoal))
ggplot(dfPlay) +
geom_point(aes(X, Y, color=Team)) +
geom_vline(aes(xintercept=LineOfScrimmage-10), color="yellow") +
geom_vline(aes(xintercept=10), color="grey") +
geom_vline(aes(xintercept=110), color="grey") +
xlim(0,120) +
ylim(0,53.3) +
labs(title = paste("Offense", dfPlay$PossessionTeam, "; ",
"PlayDirection", dfPlay$PlayDirection, "; ",
"FieldPosition", dfPlay$FieldPosition, "; ",
"HomeTeam", dfPlay$HomeTeamAbbr),
subtitle = paste("YardsToGoal", dfPlay$YardsToGoal))
dfPlay = filter(df, PlayId == df$PlayId[20]) %>%
mutate(YardsToGoal = YardLine + 50*(PossessionTeam==FieldPosition),
LineOfScrimmage = ifelse(YardsToGoal == YardLine, YardLine, YardsToGoal))
ggplot(dfPlay) +
geom_point(aes(X, Y, color=Team)) +
geom_vline(aes(xintercept=LineOfScrimmage-10), color="yellow") +
geom_vline(aes(xintercept=10), color="grey") +
geom_vline(aes(xintercept=110), color="grey") +
xlim(0,120) +
ylim(0,53.3) +
labs(title = paste("Offense", dfPlay$PossessionTeam, "; ",
"PlayDirection", dfPlay$PlayDirection, "; ",
"FieldPosition", dfPlay$FieldPosition, "; ",
"HomeTeam", dfPlay$HomeTeamAbbr),
subtitle = paste("YardsToGoal", dfPlay$YardsToGoal))
dfPlay = filter(df, PlayId == df$PlayId[100]) %>%
mutate(YardsToGoal = YardLine + 50*(PossessionTeam==FieldPosition),
LineOfScrimmage = ifelse(YardsToGoal == YardLine, YardLine, YardsToGoal))
ggplot(dfPlay) +
geom_point(aes(X, Y, color=Team)) +
geom_vline(aes(xintercept=LineOfScrimmage-10), color="yellow") +
geom_vline(aes(xintercept=10), color="grey") +
geom_vline(aes(xintercept=110), color="grey") +
xlim(0,120) +
ylim(0,53.3) +
labs(title = paste("Offense", dfPlay$PossessionTeam, "; ",
"PlayDirection", dfPlay$PlayDirection, "; ",
"FieldPosition", dfPlay$FieldPosition, "; ",
"HomeTeam", dfPlay$HomeTeamAbbr),
subtitle = paste("YardsToGoal", dfPlay$YardsToGoal))
ggplot(dfPlay) +
geom_point(aes(X, Y, color=Team)) +
geom_vline(aes(xintercept=LineOfScrimmage), color="yellow") +
geom_vline(aes(xintercept=10), color="grey") +
geom_vline(aes(xintercept=110), color="grey") +
xlim(0,120) +
ylim(0,53.3) +
labs(title = paste("Offense", dfPlay$PossessionTeam, "; ",
"PlayDirection", dfPlay$PlayDirection, "; ",
"FieldPosition", dfPlay$FieldPosition, "; ",
"HomeTeam", dfPlay$HomeTeamAbbr),
subtitle = paste("YardsToGoal", dfPlay$YardsToGoal))
select(dfPlay, YardLine, YardsToGoal, LineOfScrimmage)
ggplot(dfPlay) +
geom_point(aes(X, Y, color=Team)) +
geom_vline(aes(xintercept=LineOfScrimmage-10), color="yellow") +
geom_vline(aes(xintercept=10), color="grey") +
geom_vline(aes(xintercept=110), color="grey") +
xlim(0,120) +
ylim(0,53.3) +
labs(title = paste("Offense", dfPlay$PossessionTeam, "; ",
"PlayDirection", dfPlay$PlayDirection, "; ",
"FieldPosition", dfPlay$FieldPosition, "; ",
"HomeTeam", dfPlay$HomeTeamAbbr),
subtitle = paste("YardsToGoal", dfPlay$YardsToGoal))
ggplot(dfPlay) +
geom_point(aes(X, Y, color=Team)) +
geom_vline(aes(xintercept=YardLine-10), color="yellow") +
geom_vline(aes(xintercept=10), color="grey") +
geom_vline(aes(xintercept=110), color="grey") +
xlim(0,120) +
ylim(0,53.3) +
labs(title = paste("Offense", dfPlay$PossessionTeam, "; ",
"PlayDirection", dfPlay$PlayDirection, "; ",
"FieldPosition", dfPlay$FieldPosition, "; ",
"HomeTeam", dfPlay$HomeTeamAbbr),
subtitle = paste("YardsToGoal", dfPlay$YardsToGoal))
ggplot(dfPlay) +
geom_point(aes(X, Y, color=Team)) +
geom_vline(aes(xintercept=YardLine+10), color="yellow") +
geom_vline(aes(xintercept=10), color="grey") +
geom_vline(aes(xintercept=110), color="grey") +
xlim(0,120) +
ylim(0,53.3) +
labs(title = paste("Offense", dfPlay$PossessionTeam, "; ",
"PlayDirection", dfPlay$PlayDirection, "; ",
"FieldPosition", dfPlay$FieldPosition, "; ",
"HomeTeam", dfPlay$HomeTeamAbbr),
subtitle = paste("YardsToGoal", dfPlay$YardsToGoal))
ggplot(dfPlay) +
geom_point(aes(X, Y, color=Team)) +
geom_vline(aes(xintercept=YardLine), color="yellow") +
geom_vline(aes(xintercept=10), color="grey") +
geom_vline(aes(xintercept=110), color="grey") +
xlim(-10,110) +
ylim(0,53.3) +
labs(title = paste("Offense", dfPlay$PossessionTeam, "; ",
"PlayDirection", dfPlay$PlayDirection, "; ",
"FieldPosition", dfPlay$FieldPosition, "; ",
"HomeTeam", dfPlay$HomeTeamAbbr),
subtitle = paste("YardsToGoal", dfPlay$YardsToGoal))
colnames(dfPlay)
dfPlay = filter(df, PlayId == df$PlayId[100]) %>%
mutate(YardsToGoal = YardLine + 50*(PossessionTeam==FieldPosition),
LOS_Side = ifelse((PlayDirection=="right" & PossessionTeam==FieldPosition) |
(PlayDirection=="left" & PossessionTeam!=FieldPosition),
"left", "right"),
LineOfScrimmage = ifelse(LOS_Side=="left", YardLine, YardLine+50) +10)
select(dfPlay, YardLine, YardsToGoal, LineOfScrimmage)
ggplot(dfPlay) +
geom_point(aes(X, Y, color=Team)) +
geom_vline(aes(xintercept=YardLine-10), color="yellow") +
geom_vline(aes(xintercept=10), color="grey") +
geom_vline(aes(xintercept=110), color="grey") +
xlim(0,120) +
ylim(0,53.3) +
labs(title = paste("Offense", dfPlay$PossessionTeam, "; ",
"PlayDirection", dfPlay$PlayDirection, "; ",
"FieldPosition", dfPlay$FieldPosition, "; ",
"HomeTeam", dfPlay$HomeTeamAbbr),
subtitle = paste("YardsToGoal", dfPlay$YardsToGoal))
ggplot(dfPlay) +
geom_point(aes(X, Y, color=Team)) +
geom_vline(aes(xintercept=LineOfScrimmage), color="yellow") +
geom_vline(aes(xintercept=10), color="grey") +
geom_vline(aes(xintercept=110), color="grey") +
xlim(0,120) +
ylim(0,53.3) +
labs(title = paste("Offense", dfPlay$PossessionTeam, "; ",
"PlayDirection", dfPlay$PlayDirection, "; ",
"FieldPosition", dfPlay$FieldPosition, "; ",
"HomeTeam", dfPlay$HomeTeamAbbr),
subtitle = paste("YardsToGoal", dfPlay$YardsToGoal))
dfPlay = filter(df, PlayId == df$PlayId[1]) %>%
mutate(YardsToGoal = YardLine + 50*(PossessionTeam==FieldPosition),
LOS_Side = ifelse((PlayDirection=="right" & PossessionTeam==FieldPosition) |
(PlayDirection=="left" & PossessionTeam!=FieldPosition),
"left", "right"),
LineOfScrimmage = ifelse(LOS_Side=="left", YardLine, YardLine+50) +10)
select(dfPlay, YardLine, YardsToGoal, LineOfScrimmage)
ggplot(dfPlay) +
geom_point(aes(X, Y, color=Team)) +
geom_vline(aes(xintercept=LineOfScrimmage), color="yellow") +
geom_vline(aes(xintercept=10), color="grey") +
geom_vline(aes(xintercept=110), color="grey") +
xlim(0,120) +
ylim(0,53.3) +
labs(title = paste("Offense", dfPlay$PossessionTeam, "; ",
"PlayDirection", dfPlay$PlayDirection, "; ",
"FieldPosition", dfPlay$FieldPosition, "; ",
"HomeTeam", dfPlay$HomeTeamAbbr),
subtitle = paste("YardsToGoal", dfPlay$YardsToGoal))
select(dfPlay, YardLine, YardsToGoal, LineOfScrimmage)
ggplot(dfPlay) +
geom_point(aes(X, Y, color=Team)) +
geom_vline(aes(xintercept=LineOfScrimmage), color="yellow") +
geom_vline(aes(xintercept=10), color="grey") +
geom_vline(aes(xintercept=110), color="grey") +
xlim(0,120) +
ylim(0,53.3) +
labs(title = paste("Offense", dfPlay$PossessionTeam, "; ",
"PlayDirection", dfPlay$PlayDirection, "; ",
"FieldPosition", dfPlay$FieldPosition, "; ",
"HomeTeam", dfPlay$HomeTeamAbbr),
subtitle = paste("YardsToGoal", dfPlay$YardsToGoal))
dfPlay = filter(df, PlayId == df$PlayId[1]) %>%
mutate(YardsToGoal = YardLine + 50*(PossessionTeam==FieldPosition),
LOS_Side = ifelse((PlayDirection=="right" & PossessionTeam==FieldPosition) |
(PlayDirection=="left" & PossessionTeam!=FieldPosition),
"left", "right"),
LineOfScrimmage = ifelse(LOS_Side=="left", YardLine, YardLine+50))
select(dfPlay, YardLine, YardsToGoal, LineOfScrimmage)
ggplot(dfPlay) +
geom_point(aes(X, Y, color=Team)) +
geom_vline(aes(xintercept=LineOfScrimmage), color="yellow") +
geom_vline(aes(xintercept=10), color="grey") +
geom_vline(aes(xintercept=110), color="grey") +
xlim(0,120) +
ylim(0,53.3) +
labs(title = paste("Offense", dfPlay$PossessionTeam, "; ",
"PlayDirection", dfPlay$PlayDirection, "; ",
"FieldPosition", dfPlay$FieldPosition, "; ",
"HomeTeam", dfPlay$HomeTeamAbbr),
subtitle = paste("YardsToGoal", dfPlay$YardsToGoal))
dfPlay = filter(df, PlayId == df$PlayId[1]) %>%
mutate(YardsToGoal = YardLine + 50*(PossessionTeam==FieldPosition),
LOS_Side = ifelse((PlayDirection=="right" & PossessionTeam==FieldPosition) |
(PlayDirection=="left" & PossessionTeam!=FieldPosition),
"left", "right"),
LineOfScrimmage = ifelse(LOS_Side=="left", YardLine+10, 100-YardLine))
select(dfPlay, YardLine, YardsToGoal, LineOfScrimmage)
ggplot(dfPlay) +
geom_point(aes(X, Y, color=Team)) +
geom_vline(aes(xintercept=LineOfScrimmage), color="yellow") +
geom_vline(aes(xintercept=10), color="grey") +
geom_vline(aes(xintercept=110), color="grey") +
xlim(0,120) +
ylim(0,53.3) +
labs(title = paste("Offense", dfPlay$PossessionTeam, "; ",
"PlayDirection", dfPlay$PlayDirection, "; ",
"FieldPosition", dfPlay$FieldPosition, "; ",
"HomeTeam", dfPlay$HomeTeamAbbr),
subtitle = paste("YardsToGoal", dfPlay$YardsToGoal))
?xlim
ggplot(dfPlay) +
geom_point(aes(X, Y, color=Team)) +
geom_vline(aes(xintercept=LineOfScrimmage), color="yellow") +
geom_vline(aes(xintercept=10), color="grey") +
geom_vline(aes(xintercept=110), color="grey") +
coord_cartesian(xlim = c(0,120), ylim=c(0,53.3), expand=F) +
labs(title = paste("Offense", dfPlay$PossessionTeam, "; ",
"PlayDirection", dfPlay$PlayDirection, "; ",
"FieldPosition", dfPlay$FieldPosition, "; ",
"HomeTeam", dfPlay$HomeTeamAbbr),
subtitle = paste("YardsToGoal", dfPlay$YardsToGoal))
dfPlay = filter(df, PlayId == df$PlayId[1]) %>%
mutate(YardsToGoal = YardLine + 50*(PossessionTeam==FieldPosition),
LOS_Side = ifelse((PlayDirection=="right" & PossessionTeam==FieldPosition) |
(PlayDirection=="left" & PossessionTeam!=FieldPosition),
"left", "right"),
LineOfScrimmage = ifelse(LOS_Side=="left", YardLine+10, 110-YardLine))
ggplot(dfPlay) +
geom_point(aes(X, Y, color=Team)) +
geom_vline(aes(xintercept=LineOfScrimmage), color="yellow") +
geom_vline(aes(xintercept=10), color="grey") +
geom_vline(aes(xintercept=110), color="grey") +
coord_cartesian(xlim = c(0,120), ylim=c(0,53.3), expand=F) +
labs(title = paste("Offense", dfPlay$PossessionTeam, "; ",
"PlayDirection", dfPlay$PlayDirection, "; ",
"FieldPosition", dfPlay$FieldPosition, "; ",
"HomeTeam", dfPlay$HomeTeamAbbr),
subtitle = paste("YardsToGoal", dfPlay$YardsToGoal))
